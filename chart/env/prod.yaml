nodeSelector:
  role-deepsite: "true"

tolerations:
  - key: "huggingface.co/deepsite"
    operator: "Equal"
    value: "true"
    effect: "NoSchedule"

serviceAccount:
  enabled: true
  create: true
  name: deepsite-prod

ingress:
  path: "/"
  annotations:
    alb.ingress.kubernetes.io/healthcheck-path: "/api/healthcheck"
    alb.ingress.kubernetes.io/listen-ports: "[{\"HTTP\": 80}, {\"HTTPS\": 443}]"
    alb.ingress.kubernetes.io/load-balancer-name: "hub-utils-prod-cloudfront"
    alb.ingress.kubernetes.io/group.name: "hub-utils-prod-cloudfront"
    alb.ingress.kubernetes.io/scheme: "internal"
    alb.ingress.kubernetes.io/ssl-redirect: "443"
    alb.ingress.kubernetes.io/tags: "Env=prod,Project=hub,Terraform=true"
    alb.ingress.kubernetes.io/target-group-attributes: deregistration_delay.timeout_seconds=30
    alb.ingress.kubernetes.io/target-type: "ip"
    alb.ingress.kubernetes.io/certificate-arn: "arn:aws:acm:us-east-1:707930574880:certificate/5b25b145-75db-4837-b9f3-7f238ba8a9c7,arn:aws:acm:us-east-1:707930574880:certificate/bfdf509c-f44b-400f-b9e1-6f7a861abe91"
    kubernetes.io/ingress.class: "alb"

networkPolicy:
  enabled: true
  allowedBlocks:
    - 10.0.0.0/16


ingressInternal:
  enabled: false

envVars:
  NEXTAUTH_URL: https://deepsite.hf.co/api/auth

infisical:
  enabled: true
  env: "prod-us-east-1"

autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 10
  targetMemoryUtilizationPercentage: "50"
  targetCPUUtilizationPercentage: "50"

resources:
  requests:
    cpu: 2
    memory: 4Gi
  limits:
    cpu: 4
    memory: 8Gi
